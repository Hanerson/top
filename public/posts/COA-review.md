# 《计算机组成与结构》历年考题整合（含答案/解题思路）

## 一、CPU性能指标（CPI、MIPS计算）

### 1. 2024年考题
- **题目**：CPU频率为 $500\mathrm{MHz}$，有三种类型的指令，第一种占 $15\%$，需要 $4$ 个 Cycle，第二种占 $75\%$，需要 $1.6$ 个 Cycle，第三种占 $10\%$，需要 $7$ 个 Cycle，求 CPI 和 MIPS。
- **解题步骤**：
    1. 计算平均 CPI：  
       $\text{CPI}_{\text{avg}} = (15\% \times 4) + (75\% \times 1.6) + (10\% \times 7) = 0.6 + 1.2 + 0.7 = 2.5$
    2. 计算 MIPS：  
       $\text{MIPS} = \frac{\text{主频（Hz）}}{\text{CPI}_{\text{avg}} \times 10^6} = \frac{500 \times 10^6}{2.5 \times 10^6} = 200$

### 2. 2013年考题
- **题目**：假设某计算机的 CPU 时钟频率为 $100\mathrm{MHz}$，基准程序 A 在该计算机上的运行时间为 15 秒。现对 A 进行优化，将其中的乘以 2 的指令均改为左移一位的指令，得到新的基准程序 B。若在该计算机上执行每条乘法指令需要的时钟周期数为 104，执行每条左移指令所需要的时钟周期数为 4，且基准程序 A 的执行时间为基准程序 B 的 1.5 倍，则 A 中有多少条乘法指令被替换为左移指令？
- **解题步骤**：
    1. 计算时钟周期：$1\mathrm{s}/100\mathrm{MHz}=10\mathrm{ns}$
    2. 单条指令节省周期：$104 - 4 = 100$ 个，对应时间 $10\mathrm{ns} \times 100 = 10^{-6}\mathrm{s}$
    3. 总时间节省：$15\mathrm{s} - 15\mathrm{s}/1.5 = 5\mathrm{s}$
    4. 替换指令数：$5\mathrm{s}/10^{-6}\mathrm{s} = 5 \times 10^6$ 条

### 3. 2014年期中考题
- **题目**：基准程序 A 在 $1\mathrm{GHz}$ 处理器的计算机上运行。A 由整数算术（500×10³ 条，CPI=32）、数据传送（300×10³ 条，CPI=20）、浮点数（150×10³ 条，CPI=50）、控制传送（50×10³ 条，CPI=10）组成。优化后将部分整数乘法指令改为左移指令（乘法 CPI=104，左移 CPI=4），A 的执行时间是 B 的 1.5 倍，求 A 中被替换的乘法指令占指令总数的比例。
- **解题步骤**：
    1. 计算 A 的执行时间：  
       $t_A = (500×32 + 300×20 + 150×50 + 50×10)×10^3×10^{-9} = 0.03\mathrm{s}$
    2. 计算 B 的执行时间：$t_B = 0.03\mathrm{s}/1.5 = 0.02\mathrm{s}$
    3. 总节省周期：$(0.03 - 0.02)/10^{-9} = 10^{10}$ 个，单条指令节省 $104 - 4 = 100$ 个周期，替换指令数 $10^{10}/100 = 10^8$ 条
    4. 指令总数：$(500 + 300 + 150 + 50)×10^3 = 10^6$ 条，比例：$10^8/10^6 = 10\%$

### 4. 2015年期中考题
- **题目**：两台计算机 M1（500MHz）和 M2（400MHz），指令集相同。四种指令的 CPI 及编译器生成的指令比例如下表，用算术平均值判断综合性能。

| 指令 | M1的CPI | M2的CPI | C1比例 | C2比例 | C3比例 |
|----|--------|--------|------|------|------|
| A  | 3      | 2      | 20%  | 50%  | 30%  |
| B  | 1      | 2      | 30%  | 20%  | 25%  |
| C  | 4      | 3      | 40%  | 10%  | 25%  |
| D  | 6      | 5      | 10%  | 20%  | 20%  |

- **解题步骤**：
    1. 计算时钟周期：M1 为 $2\mathrm{ns}$，M2 为 $2.5\mathrm{ns}$
    2. 计算各编译器下的平均 CPI：
        - C1：M1=3.10，M2=2.70；C2：M1=3.30，M2=2.70；C3：M1=3.35，M2=2.85
    3. 计算平均执行时间比例：  
       $\frac{M1}{M2} = \frac{2×(3.10+3.30+3.35)/3}{2.5×(2.70+2.70+2.85)/3} = 0.9455 < 1$，故 M1 性能更好

---

## 二、加法器延迟计算

### 1. 2021年回忆考题
- **题目**：与/或运算延迟 1，异或运算延迟 6。计算 32 位串行进位加法器、先行进位加法器、部分先行进位加法器的延迟。
- **解题步骤**：
    1. 串行进位加法器：每一位进位依赖前一位，进位延迟=2（与或运算），32 位需 $2×(32-1) + 6$（最后一位异或求和）$= 62 + 6 = 68$
    2. 先行进位加法器：并行计算所有进位，延迟=1（生成 P/G）+2（计算进位）+6（求和）$= 9$
    3. 部分先行进位加法器（假设 8 位一组）：共 4 组，组内先行进位，组间串行。每组进位延迟=1+2=3，组间进位传递 4 组需 $3 + 2×(4-1) + 6 = 3 + 6 + 6 = 15$（注：具体分组需结合题干，此处按 8 位一组计算）

### 2. 2014年期中考题
- **题目**：与/或门延迟 1，异或门延迟 3。计算 64 位串行进位、先行进位、部分先行进位（8 位组）的延迟。
- **解题步骤**：
    1. 串行进位：$2×(64-1) + 3 = 129$
    2. 先行进位：$1 + 2 + 3 = 6$
    3. 部分先行进位：8 组，$3 + 2×(8-1) + 5$（最高组求和）$= 3 + 14 + 5 = 22$

### 3. 2024年考题
- **题目**：32 位加法器 A、B，与/或门延迟 1ty，异或门延迟 2ty。A 的 $C_{out}=X·Y + X·C_{in} + Y·C_{in}$；B 的 $C_{out}=X·Y + (X⊕Y)·C_{in}$，$F=X⊕Y⊕C_{in}$。
    1. 比较 A 和 B 输出 F 的速度
    2. 求 A 计算 $C_{out}$ 的延迟
- **解题步骤**：
    1. F 的速度：A 和 B 的 F 均为 $X⊕Y⊕C_{in}$，延迟 = 2（X⊕Y）+2（再异或 $C_{in}$）$= 4ty$，速度相同
    2. A 的 $C_{out}$ 延迟：$X·Y$（1）、$X·C_{in}$（1）、$Y·C_{in}$（1）→ 或运算（1），总延迟=1+1=2ty

---

## 三、存储器系统（DRAM 刷新、Cache、虚拟内存）

### 1. DRAM 刷新计算

#### 2021年回忆考题
- **题目**：DRAM 芯片为 $8K×4$ 位，128 行、64 列。组成 $1M×8$ 位存储器，任意单元刷新间隔 ≤ 1ms，求刷新频率（kHz，整数）。
- **解题步骤**：
    1. 计算总芯片数：$(1M/8K)×(8/4) = 128×2 = 256$ 片
    2. 单芯片行数 = 128 行，所有芯片可并行刷新（芯片间刷新独立），1ms 内需刷新 128 次
    3. 刷新频率：$128次/1ms = 128kHz$

#### 2015年期中考题
- **题目**：64K×2 位 DRAM 芯片，组成 256K×8 位存储器，异步刷新，间隔 ≤ 2ms，求刷新信号频率。
- **解题步骤**：
    1. 单芯片行数：$64K=2^{16}$，按常见行列划分行数取 256 行（题干在教材题目中常有约定），此处按 256 行计算
    2. 2ms 内需刷新 256 次，频率：$256次/2ms = 128kHz$

---

### 2. Cache 命中率与平均访存时间

#### 2021年回忆考题
- **题目**：Cache 为二路组相联，共 4 行，初始为空，两个循环执行 10 次，计算命中率（与作业题相似）。
- **核心思路**：
    1. 确定 Cache 结构：4 行 → 2 组（二路组相联），块大小需结合题干（通常作业题中块大小为 4B 或 8B）
    2. 分析循环访问地址：列出每次访问的块号，判断组号、标记是否命中，统计命中次数/总次数

#### 2013年考题
- **题目**：Cache 大小 256B，行 64B，LRU 替换。Java 程序：
  ```java
  for(k=0;k<10000;k++){
    for(i=0;i<128;i+=10){
      c=a[i];
    }
  }
  ```
  int 占 4B，计算直接映射和 2 路组相联的平均访存时间（Cache 访问 1ns，主存 10ns）。
- **解题步骤**：
    1. 块大小 64B → 每块 16 个 int，Cache 行数 = 256B/64B = 4 行
    2. 访问的块号：a[0]（块0）、a[10]（块0）、a[20]（块1）、…、a[120]（块7），共 13 个访问
    3. 命中率：直接映射和 2 路组相联均为 $5/13\approx38.46\%$
    4. 平均访存时间：$1 + 10\times(1-38.46\%)\approx7.15\mathrm{ns}$

#### 2014年期中考题
- **题目**：Cache 大小 512B，行 32B，4 路组相联，LRU 替换。程序：
  ```java
  for(k=0;k<100;k++){
    int[] b=new int[64];
    for(i=0;i<35;i+=5){
      c=a[i];
      d=b[i];
    }
  }
  ```
  a 和 b 连续存储，int 占 4B，计算平均访存时间（Cache 1ns，主存 100ns）。
- **解题步骤**：
    1. 块大小 32B → 每块 8 个 int，Cache 行数 = 512B/32B = 16 行 → 4 组（4 路）
    2. 访问块号：a[0]（块0）、b[0]（块10）、a[5]（块0）、b[5]（块10）…共 14 个访问/轮
    3. 命中率：k=0 时 6 次命中，k=1-99 时全命中，总命中率 = $(6 + 14×99)/(14×100)\approx99.43\%$
    4. 平均访存时间：$1 + 100\times(1-99.43\%)\approx1.57\mathrm{ns}$

#### 2015年期中考题
- **题目**：两种 Cache 方案：
    - 方案1：1GHz，直接映射，块 1 字，指令缺失率 3%，数据缺失率 5%
    - 方案2：800MHz，2 路组相联，块 4 字，指令缺失率 1%，数据缺失率 2%  
      程序：30% 指令取 1 次数据，10% 指令取 2 次数据，全命中 CPI=3，主存访问时间=块大小+4 个时钟周期，判断哪种方案好。
- **解题步骤**：
    1. 方案1：时钟周期 1ns，主存访问 5 周期。执行时间 = $N\times[3 + (3\% + (30\%+2\times10\%)\times5\%)\times5]\times1 = 3.275N\mathrm{ns}$
    2. 方案2：时钟周期 1.25ns，主存访问 8 周期。执行时间 = $N\times[3 + (1\% + (30\%+2\times10\%)\times2\%)\times8]\times1.25 = 3.95N\mathrm{ns}$
    3. 结论：方案1 更好

#### 2024年考题
- **题目**：一级 Cache 命中率 95%，二级 Cache 命中率 80%，访问时间分别为 T、10T、100T，求平均访存时间。
- **解题步骤**：  
  平均访存时间 = $T + (1-95\%)\times[10T + (1-80\%)\times100T] = T + 0.05\times(10T + 20T) = 2.5T$

---

### 3. Cache 总容量计算

#### 2015年期中考题
- **题目**：主存 64KB（字节编址），Cache 4KB，2 路组相联，LRU 替换，写回策略，块 64B，求 Cache 总容量（比特）。
- **解题步骤**：
    1. 行数 = 4KB/64B = 64 行 → 32 组（2 路）
    2. 主存地址 16 位：块内 6 位，块号 10 位 → 标记位 = 10 - 5（组号 5 位）= 5 位
    3. 每行结构：5（标记）+1（LRU）+1（脏位）+64×8（数据）=519 比特
    4. 总容量 = 519 × 64 = 33216 比特

---

### 4. 虚拟内存与快表（TLB）

#### 2013年考题
- **题目**：页大小 32KB，虚拟地址 40 位，物理地址 32 位，页表项含有效位（1）、修改位（1）、使用位（2）、存取方式位（2），快表 128 行 4 路组相联，求快表大小（字节）。
- **解题步骤**：
    1. 页内地址 15 位 → 虚页号 25 位，实页号 17 位
    2. 页表项长度 = 1+1+2+2+17 = 23 位 → 按字节对齐为 24 位（3 字节）
    3. 快表组号 = log2(128/4) = 5 位 → 标记位 = 25 - 5 = 20 位
    4. 快表每行 = 20（标记）+24（页表项）=44 位，总大小 = 44×128/8 = 704 字节

#### 2015年期中考题
- **题目**：逻辑地址 40 位，物理地址 36 位，页大小 32KB，页表项含 4 个标识位（各 1 位），快表 512 项直接映射，求快表总容量（比特）。
- **解题步骤**：
    1. 页内地址 15 位 → 虚页号 25 位，实页号 21 位
    2. 页表项长度 = 4 + 21 = 25 位 → 按字节对齐为 32 位（4 字节）
    3. 快表直接映射 → 标记位 = 25 - 9（512=2⁹）= 16 位
    4. 快表每行 = 16 + 32 = 48 位，总容量 = 48 × 512 = 24576 比特

#### 2024年考题
- **题目**：64 位 CPU，字节编址，页大小 4KB，页表项 4B，Cache 块 64B，Cache 128KB，4 路组相联，虚拟地址 $V_{41}$~$V_0$，物理地址 $P_{29}$~$P_0$。
    1. 求虚拟地址的页号、页内地址范围，页表大小
    2. 求物理地址的 Tag、行号、块内地址范围
- **解题步骤**：
    1. 虚拟地址：
        - 页内地址 = log2(4KB) = 12 位 → $V_{11}$~$V_0$
        - 页号 = 42 - 12 = 30 位 → $V_{41}$~$V_{12}$
        - 页表大小：假设虚拟地址空间为 $2^{42}$ 字节 → 页表项数 = $2^{42}/2^{12}=2^{30}$ → 页表大小 = $2^{30}×4B=4\mathrm{GB}$
    2. 物理地址：
        - 块内地址 = log2(64B) = 6 位 → $P_5$~$P_0$
        - Cache 行数 = 128KB/64B = 2048 = $2^{11}$ 行 → 4 路组相联 → 组数 = $2^{11}/2^2 = 2^9$ → 行号（组号）= $P_{14}$~$P_6$
        - Tag = 29 - 15 = 14 位 → $P_{29}$~$P_{15}$

---

## 四、I/O系统（中断、DMA、磁盘、总线）

### 1. 中断优先级与处理流程

#### 2012年考题
- **题目**：5 级中断，响应优先级 1>2>3>4>5，处理优先级 5>2>3>1>4。主程序运行时出现 1、3、5 级中断，处理 3 级时出现 2、4 级中断，写出处理过程。
- **处理流程**：

| 步骤 | 操作              |
|----|-----------------|
| 1  | 主程序             |
| 2  | 响应中断1           |
| 3  | 响应中断3           |
| 4  | 响应中断5（处理优先级最高）  |
| 5  | 处理中断5           |
| 6  | 处理中断3           |
| 7  | 响应中断2（处理优先级高于3） |
| 8  | 处理中断2           |
| 9  | 继续处理中断3         |
| 10 | 处理中断1           |
| 11 | 主程序             |
| 12 | 响应中断4（最后响应）     |
| 13 | 处理中断4           |
| 14 | 主程序             |

#### 2020年回忆考题
- **题目**：判断中断响应优先级与处理优先级的处理流程（与 2012 年类似，需结合具体优先级分析）。

---

### 2. DMA 与中断 I/O 计算

#### 2012年考题
- **题目**：1GHz 处理器，读取 1000 字节到主存，I/O 传输率 $10^5\mathrm{B/s}$，每字节读写需 1000 时钟周期。判断三种方式是否可行，计算 CPU 耗时：
    1. 查询方式：每次查询 9500 时钟周期
    2. 中断方式：响应 200 周期，服务 1800 周期
    3. 停止 CPU 的 DMA：缓存 100 字节，初始化/后处理各 1000 周期
- **解题步骤**：
    1. 查询方式：每字节耗时=(9500+1000)×1ns=10.5μs，I/O 每字节准备时间=10μs，10.5>10，不可行
    2. 中断方式：每字节耗时=(200+1800)×1ns=2μs<10μs，可行，总耗时=2μs×1000=2ms
    3. DMA 方式：每次 DMA 耗时=(1000+100×1000+1000)×1ns=102μs，100 字节准备时间=1ms，可行，总耗时=10×102μs=1.02ms

#### 2013年考题
- **题目**：1GHz 处理器，CPI=5。
    1. 外设 A 传输率 4Mbps，中断式，每次传 32 位，服务程序 18 条指令，其他开销 10 周期，求 CPU 耗时占比。
    2. 外设 B 传输率 40Mbps，周期窃取 DMA，块 5000 字节，预处理/后处理 500 周期，求 CPU 耗时占比。
- **解题步骤**：
    1. 中断次数=4Mbps/32b=1.25×10⁵ 次/秒，每次耗时=(18×5+10)×1ns=100ns，占比=1.25×10⁵×100ns/1s=1.25%
    2. DMA 次数=40Mbps/(5000×8b)=1000 次/秒，每次耗时 500×1ns=500ns，占比=1000×500ns/1s=0.05%

#### 2024年考题
- **题目**：500MHz CPU，CPI=5。外设传输率 4MB/s，中断方式，传 32 位，服务程序 18 条指令，其他开销 2 条指令，求 CPU 耗时占比。
- **解题步骤**：
    1. 中断次数=4MB/s/4B=10^6 次/秒
    2. 每次耗时=(18+2)×5×2ns=200ns（时钟周期=2ns）
    3. 占比=10^6×200ns/1s=20%

---

### 3. 磁盘性能计算

#### 2012年考题
- **题目**：读取 20 个随机数据块（40KB/块），处理后写回连续区域。磁盘转速 5400rpm，平均存取时间 20ms，传输率 $8×10^3\mathrm{KB/s}$，处理每块需 $2.5×10^9$ 周期（500MHz），计算总时间。
- **解题步骤**：
    1. 读取单块时间=20ms + 40KB/(8×10^3KB/s)=25ms
    2. 处理单块时间=2.5×10^9/(500×10^6)=5s
    3. 读取+处理总时间=25ms + 5s×19 + 5s = 100.025s
    4. 写回时间=20ms + (40×20)KB/(8×10^3KB/s)=0.12s
    5. 总时间=100.025+0.12=100.145s

#### 2013年考题
- **题目**：磁盘组 8 个双面盘片，每面 256 磁道，每道 16 扇区，转速 3000rpm，平均寻道 10ms。
    1. 计算容量
    2. 计算最大位密度
    3. 计算随机访问一个扇区的平均传输率
- **解题步骤**：
    1. 容量 = 512B×16×256×8×2 = 32MB
    2. 最大位密度（内侧磁道）=512×8×16/(π×100mm)=209 bp/mm（示例值）
    3. 平均时间=10ms（寻道）+10ms（旋转延迟）+1.25ms（传输）=21.25ms，传输率=512×8bit/21.25ms≈192.75 kbps

#### 2015年期中考题
- **题目**：磁道 0~999，寻道 1 磁道 0.01ms，转速 6000rpm，每道 1000 扇区（512B/扇区）。初始位置 200，5 个写入任务，最短寻道优先，计算总时间。

| 任务 | 磁道  | 数据量   |
|----|-----|-------|
| 1  | 300 | 3MB   |
| 2  | 170 | 40KB  |
| 3  | 220 | 1MB   |
| 4  | 90  | 500KB |
| 5  | 470 | 600KB |

- **解题步骤**：
    1. 每磁道容量 = 512B×1000 = 500KB，旋转周期 = 10ms，扇区传输 = 0.01ms
    2. 处理顺序：3→2→4→1→5（按最短寻道优先），总时间示例合计约 180.07ms（题目中给出分项计算）

---

### 4. 总线传输率计算

#### 2012年考题
- **题目**：同步总线（50ns 周期，1 周期传输），异步总线（握手 40ns），宽度 32 位，传输 256 字节，前 4 字节准备 230ns，后每 4 字节 65ns，计算 16 字节块传输的传输率。
- **解题步骤**：
    1. 同步总线：示例计算得传输率 ≈ 3.14×10^7 B/s
    2. 异步总线：示例计算得传输率 ≈ 2.09×10^7 B/s

#### 2013年考题
- **题目**：异步总线 32 位，地址数据复用，握手 30ns，16 字块传输。
    1. 前 2 字准备 400ns，后每 2 字 100ns，求传输率。
    2. 第 1 字准备 200ns，后每字 150ns，求传输率。
- **解题步骤**：
    1. 总时间 = 2320ns，传输率 ≈ 220.7 Mbps
    2. 总时间 = 2570ns，传输率 ≈ 199.2 Mbps

#### 2015年期中考题
- **题目**：总线宽度 64 位，方案 1：同步总线（100MHz，8 字块，事务间 2 空闲周期）；方案 2：异步总线（16 字块，握手 20ns）。前 4 字准备 148ns，后每 4 字 26ns，比较传输率。
- **解题步骤**：
    1. 方案1：传输率 ≈ 1.11 Gbps
    2. 方案2：传输率 ≈ 0.65 Gbps，方案1 更好

---

## 五、编码与校验（海明码、NBCD码）

### 1. 海明码计算

#### 2012年考题
- **题目**：偶校验海明码，对每个字节生成校验位，信息 8F3CAB96H，求传输的十六进制（含校验码）。
- **校验公式**：  
  $C1=D1⊕D2⊕D4⊕D5⊕D7$；$C2=D1⊕D3⊕D4⊕D6⊕D7$；$C3=D2⊕D3⊕D4⊕D8$；$C4=D5⊕D6⊕D7⊕D8$
- **计算结果**：8F（C4C3C2C1=1011）、3C（0010）、AB（0111）、96（0110）→ 8F7362A5F93AH

#### 2013年考题
- **题目**：奇校验海明码，对 16 位生成 5 位校验位，信息 3C8FH 和 96ABH，求传输的十六进制。
- **校验公式**：  
  C1..C5 的公式（含异或与常数 1）见题目原文。
- **计算结果**：3C8FH（C5C4C3C2C1=01011）→0748F7H；96ABH（11110）→12EADEH

#### 2014年期中考题
- **题目**：奇校验海明码，对每个字节生成校验位，信息 968FABH，求传输的十六进制。
- **校验公式**：见题目原文。
- **计算结果**：96（1001）、8F（0100）、AB（1000）→9B187CAD4H

#### 2015年期中考题
- **题目**：偶校验海明码，对每个字节生成校验位，信息 3B47H，求传输的十六进制。
- **校验公式**：见题目原文。
- **计算结果**：3B（0010）、47（1011）→3564B7H

#### 2020年回忆考题
- **题目**：海明码计算（与上述题型一致，需根据校验方式（奇/偶）和信息位长度套用公式）。

---

### 2. NBCD码计算

#### 2014年期中考题
- **题目**：NBCD 码（符号 4 位：1100 正，1101 负），计算 (-121)+249+368。
- **解题步骤**：
    1. 编码：
        - -121 = 1101 0001 0010 0001
        - 249 = 1100 0010 0100 1001
        - 368 = 1100 0011 0110 1000
    2. 计算 (-121)+249 = 128 → 1100 0001 0010 1000
    3. 128 + 368 = 496 → 1100 0100 1001 0110

---

## 六、指令系统与寻址

### 1. 指令条数计算

#### 2020年回忆考题
- **题目**：指令 16 位，地址 5 位，0 地址指令 40 条，1 地址指令 60 条，求 2 地址指令最多多少条。
- **解题步骤**：
    1. 2 地址指令：操作码 = 16 - 5 - 5 = 6 位，最多 $2^6 = 64$ 条
    2. 1 地址指令：占用 2 地址指令的操作码数 = 60/(2^5) = 1.875 → 需 2 条，剩余 64 - 2 = 62 条
    3. 0 地址指令：占用 1 地址指令的操作码数 = 40/(2^5) = 1.25 → 需 2 条，不影响 2 地址，故 2 地址最多 62 条

### 2. 寻址范围计算

#### 2024年考题
- **题目**：指令 16 位，格式 `操作码6位 | 寄存器2位 | 数值8位`，求直接寻址和间接寻址的范围。
- **解题步骤**：
    1. 直接寻址：数值 8 位 → 范围 0~2⁸-1 = 0~255（字节编址）
    2. 间接寻址：数值 8 位为地址指针，指向的地址空间为 16 位（假设地址总线 16 位）→ 范围 0~2¹⁶-1 = 0~65535

---

## 七、RAID 技术

### 2013年考题
- **题目**：阐述 RAID2 和 RAID4 的工作机制及未实际应用的原因。
- **解答**：
    1. RAID2：
        - 机制：并行存取，条带极小，所有磁盘参与读写，对数据位计算校验码存在多个校验盘（采用汉明码或纠错盘）。
        - 原因：冗余磁盘数量与数据盘对数成正比，代价大，现有磁盘可靠性高，成本-效益较差。
    2. RAID4：
        - 机制：独立存取，每个磁盘独立操作，对数据条带计算奇偶校验位存在单个校验盘。
        - 原因：校验盘参与每次写操作，成为性能瓶颈（写放大、热点问题）。

### 2024年考题
- **题目**：RAID5，8 块数据盘。
    1. 总硬盘数
    2. 一块盘坏了如何恢复
- **解答**：
    1. 总硬盘数 = 8（数据）+1（校验）=9 块（RAID5 为分布式校验，但等效上需要一个校验块的空间）
    2. 恢复方式：通过其他 8 块盘的对应条带数据和校验条带，按异或运算恢复损坏盘的数据（$D_{坏}=D_1⊕D_2⊕…⊕D_8⊕P$，$P$ 为校验数据）

---

## 八、选择题汇总

### 1. 计算机组成原理（若干选择题）
1. 一个机器提供乘法指令，另一个没有，属于（B.结构）区别。
2. IO 模块配备存储器和处理器，称为（B.IO 处理机）。
3. 存储器越快则（C.都不是）（速度与成本正相关，但与容量无必然负相关）。
4. 一条总线上多个设备（C.二者都对）（可同时接收，只能一个发送）。
5. Cache 根据（C.块号和块的部分信息）找到存储信息（块号确定组，标记确定块）。
6. 重定位采用（B.基址寻址）（基址寄存器存起始地址，实现重定位）。
7. 大部分 IO 设备用串行而非并行的原因是（C.两者都对）（传输距离远、抗干扰，部分串行速率高如 USB3.0）。
8. 海明码根据（C.两者都有）判断出错（故障字由校验码计算得出）。
9. RAID0 的优点是（C.两者都有）（无冗余，传输率高、IO 请求时间短）。
10. 摩尔定律的影响是（C.都是）（移动设备普及、云计算和大数据均依赖芯片性能提升）。
11. 数据旁路能完全解决数据冒险吗（不能，仅解决部分，如写后读）。
12. 冯·诺依曼架构的错误描述是（指令和数据分开存放）（冯·诺依曼架构指令和数据存放在同一存储器）。
13. 不会带来冒险的是（数据旁路）（数据旁路缓解数据冒险，控制冒险需分支预测，结构冒险需资源复用）。

### 2. 冯诺依曼架构
- 2024 年选择题：冯诺依曼架构包含（运算器、控制器、存储器、IO 设备），需按架构图排序（如：存储器→运算器→控制器→IO 设备）。

### 3. RAM/ROM 区别
- 基础题：RAM 可读写、易失性；ROM 只读、非易失性，根据特性判断选项。

---